<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistem Manajemen Inventory - MVP Dashboard">
    <title>STIVEN BUMDES Rezeki Makmur - Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <!-- jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
</head>

<body>
    <div id="app">
        <!-- Login Screen -->
        <div id="login-screen" class="login-container">
            <div class="login-card">
                <div class="login-header">
                    <span class="logo-icon">üì¶</span>
                    <h1>STIVEN BUMDES Rezeki Makmur</h1>
                    <p>Masuk ke akun Anda</p>
                </div>
                <form id="login-form">
                    <div class="form-group">
                        <label for="username">Username (Email)</label>
                        <div class="input-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <input type="text" id="username" placeholder="Masukkan email" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <div class="input-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                            <input type="password" id="password" placeholder="Masukkan password" required>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">
                        Masuk
                    </button>
                    <div id="login-error" class="error-message hidden"></div>
                </form>
                <div class="auth-toggle">
                    <p>Belum punya akun? <a href="#" id="to-register">Daftar Akun Baru</a></p>
                </div>
                <div class="demo-accounts">
                    <p>Demo Accounts:</p>
                    <small>manager@test.com / manager123 | admin@test.com / admin123</small>
                </div>
            </div>
        </div>

        <!-- Registration Screen -->
        <div id="register-screen" class="login-container hidden">
            <div class="login-card">
                <div class="login-header">
                    <span class="logo-icon">üì¶</span>
                    <h1>Daftar Akun STIVEN</h1>
                    <p>Buat akun baru Anda</p>
                </div>
                <form id="register-form">
                    <div class="form-group">
                        <label for="register-name">Nama Lengkap</label>
                        <div class="input-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <input type="text" id="register-name" placeholder="Nama Lengkap" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="register-email">Email</label>
                        <div class="input-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                </path>
                                <polyline points="22,6 12,13 2,6"></polyline>
                            </svg>
                            <input type="email" id="register-email" placeholder="email@example.com" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="register-password">Password</label>
                        <div class="input-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                            <input type="password" id="register-password" placeholder="Masukkan password" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="register-role">Role Manajemen</label>
                        <select id="register-role" class="select-input" required
                            style="width: 100%; padding-left: 10px;">
                            <option value="">-- Pilih Role --</option>
                            <option value="manager">Manager</option>
                            <option value="admin">Admin</option>
                            <option value="staff">Staff</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">
                        Daftar
                    </button>
                    <div id="register-error" class="error-message hidden"></div>
                </form>
                <div class="auth-toggle">
                    <p>Sudah punya akun? <a href="#" id="to-login">Masuk</a></p>
                </div>
            </div>
        </div>

        <!-- Main App (Hidden initially) -->
        <div id="main-app" class="app-container hidden">
            <!-- Sidebar -->
            <aside id="sidebar" class="sidebar">
                <div class="sidebar-header">
                    <span class="logo-icon">üì¶</span>
                    <span class="logo-text">STIVEN BUMDES Rezeki Makmur</span>
                </div>
                <nav class="sidebar-nav">
                    <a href="#" class="nav-item active" data-page="dashboard">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="7" height="7"></rect>
                            <rect x="14" y="3" width="7" height="7"></rect>
                            <rect x="14" y="14" width="7" height="7"></rect>
                            <rect x="3" y="14" width="7" height="7"></rect>
                        </svg>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-item" data-page="products" data-roles="manager,admin">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
                            </path>
                        </svg>
                        <span>Produk</span>
                    </a>
                    <a href="#" class="nav-item" data-page="inbound" data-roles="manager,admin">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 3v12"></path>
                            <path d="m8 11 4 4 4-4"></path>
                            <path d="M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4"></path>
                        </svg>
                        <span>Barang Masuk</span>
                    </a>
                    <a href="#" class="nav-item" data-page="outbound" data-roles="manager,admin,staff">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 3v12"></path>
                            <path d="m16 7-4-4-4 4"></path>
                            <path d="M8 21h8"></path>
                            <path d="M8 17h8"></path>
                        </svg>
                        <span>Penjualan</span>
                    </a>
                    <a href="#" class="nav-item" data-page="requests">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                        </svg>
                        <span>Pengajuan</span>
                    </a>
                    <a href="#" class="nav-item" data-page="reports" data-roles="manager,admin">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="9" y1="15" x2="15" y2="15"></line>
                        </svg>
                        <span>Laporan</span>
                    </a>
                </nav>
                <div class="sidebar-footer">
                    <div class="user-info">
                        <div class="user-avatar" id="user-avatar">M</div>
                        <div class="user-details">
                            <span class="user-name" id="user-name">Manager</span>
                            <span class="user-role" id="user-role">manager</span>
                        </div>
                    </div>
                    <button id="logout-btn" class="btn-icon" title="Logout">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </button>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <header class="header">
                    <button id="menu-toggle" class="btn-icon mobile-only">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <h1 id="page-title">Dashboard</h1>
                    <div class="header-actions">
                        <span class="current-date" id="current-date"></span>
                    </div>
                </header>

                <!-- Page Content Container -->
                <div id="page-content" class="page-content">
                    <!-- Dashboard Page -->
                    <div id="page-dashboard" class="page active">
                        <!-- Stats Cards -->
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon green">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <line x1="12" y1="1" x2="12" y2="23"></line>
                                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-label">Total Nilai Barang</span>
                                    <span class="stat-value" id="stat-total-value">Rp 0</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon red">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                                        </path>
                                        <line x1="12" y1="9" x2="12" y2="13"></line>
                                        <line x1="12" y1="17" x2="12.01" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-label">Stok Kritis</span>
                                    <span class="stat-value" id="stat-critical">0</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon blue">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M12 3v12"></path>
                                        <path d="m8 11 4 4 4-4"></path>
                                        <path
                                            d="M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4">
                                        </path>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-label">Masuk (7 Hari)</span>
                                    <span class="stat-value" id="stat-inbound">0</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon orange">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M12 3v12"></path>
                                        <path d="m16 7-4-4-4 4"></path>
                                        <path d="M8 21h8"></path>
                                        <path d="M8 17h8"></path>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-label">Keluar (7 Hari)</span>
                                    <span class="stat-value" id="stat-outbound">0</span>
                                </div>
                            </div>
                        </div>

                        <!-- Critical Stock Alert -->
                        <div class="card">
                            <div class="card-header">
                                <h2>‚ö†Ô∏è Alert Stok Kritis</h2>
                                <button class="btn btn-sm btn-outline" onclick="App.navigateTo('requests')">+ Buat
                                    Pengajuan</button>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Produk</th>
                                            <th>Stok Saat Ini</th>
                                            <th>Min. Stok</th>
                                            <th>Satuan</th>
                                            <th>Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="critical-stock-table">
                                        <!-- Dynamic content -->
                                    </tbody>
                                </table>
                                <div id="no-critical" class="empty-state hidden">
                                    <span>‚úÖ</span>
                                    <p>Semua stok dalam kondisi aman!</p>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Transactions -->
                        <div class="card">
                            <div class="card-header">
                                <h2>üìã Transaksi Terakhir</h2>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Tanggal</th>
                                            <th>Produk</th>
                                            <th>Tipe</th>
                                            <th>Jumlah</th>
                                            <th>Keterangan</th>
                                        </tr>
                                    </thead>
                                    <tbody id="recent-transactions-table">
                                        <!-- Dynamic content -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Products Page -->
                    <div id="page-products" class="page hidden">
                        <div class="page-header">
                            <div class="search-filter">
                                <div class="search-box">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                    </svg>
                                    <input type="text" id="product-search" placeholder="Cari produk...">
                                </div>
                                <select id="category-filter" class="select-input">
                                    <option value="">Semua Kategori</option>
                                </select>
                            </div>
                            <button class="btn btn-primary" onclick="Products.showForm()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                Tambah Produk
                            </button>
                        </div>
                        <div class="card">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>SKU</th>
                                            <th>Nama Produk</th>
                                            <th>Kategori</th>
                                            <th>Stok</th>
                                            <th>Min. Stok</th>
                                            <th>Harga Beli</th>
                                            <th>Satuan</th>
                                            <th>Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="products-table">
                                        <!-- Dynamic content -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Inbound Page -->
                    <div id="page-inbound" class="page hidden">
                        <div class="page-header">
                            <h2>Catat Barang Masuk</h2>
                        </div>
                        <div class="form-card">
                            <form id="inbound-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="inbound-product">Pilih Produk *</label>
                                        <select id="inbound-product" class="select-input" required>
                                            <option value="">-- Pilih Produk --</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="inbound-quantity">Jumlah Masuk *</label>
                                        <input type="number" id="inbound-quantity" min="1" required>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="inbound-date">Tanggal</label>
                                        <input type="date" id="inbound-date">
                                    </div>
                                    <div class="form-group">
                                        <label for="inbound-supplier">Nama Supplier</label>
                                        <input type="text" id="inbound-supplier" placeholder="PT. Supplier ABC">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inbound-request">Link ke Pengajuan (Opsional)</label>
                                    <select id="inbound-request" class="select-input">
                                        <option value="">-- Tidak ada --</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="inbound-notes">Catatan</label>
                                    <textarea id="inbound-notes" rows="3" placeholder="Catatan tambahan..."></textarea>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn btn-outline"
                                        onclick="App.navigateTo('dashboard')">Batal</button>
                                    <button type="submit" class="btn btn-primary">Simpan</button>
                                </div>
                            </form>
                        </div>

                        <!-- Inbound History -->
                        <div class="card mt-4">
                            <div class="card-header">
                                <h2>üì• Riwayat Barang Masuk</h2>
                                <button class="btn btn-sm btn-outline" onclick="Reports.generatePurchase()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                        <polyline points="7 10 12 15 17 10" />
                                        <line x1="12" y1="15" x2="12" y2="3" />
                                    </svg>
                                    Export PDF
                                </button>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Tanggal</th>
                                            <th>Produk</th>
                                            <th>Jumlah</th>
                                            <th>Supplier</th>
                                            <th>Catatan</th>
                                            <th>Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="inbound-history-table">
                                        <!-- Dynamic content -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Outbound Page -->
                    <div id="page-outbound" class="page hidden">
                        <div class="page-header">
                            <h2>Catat Penjualan</h2>
                        </div>
                        <div class="form-card">
                            <form id="outbound-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="outbound-product">Pilih Produk *</label>
                                        <select id="outbound-product" class="select-input" required>
                                            <option value="">-- Pilih Produk --</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="outbound-quantity">Jumlah Terjual *</label>
                                        <input type="number" id="outbound-quantity" min="1" required>
                                        <small id="stock-info" class="text-muted"></small>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="outbound-price">Harga Jual (per unit)</label>
                                        <input type="number" id="outbound-price" min="0" placeholder="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="outbound-date">Tanggal</label>
                                        <input type="date" id="outbound-date">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="outbound-notes">Keterangan</label>
                                    <textarea id="outbound-notes" rows="3"
                                        placeholder="Nama pembeli, catatan..."></textarea>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn btn-outline"
                                        onclick="App.navigateTo('dashboard')">Batal</button>
                                    <button type="submit" class="btn btn-primary">Simpan Penjualan</button>
                                </div>
                            </form>
                        </div>

                        <!-- Outbound History -->
                        <div class="card mt-4">
                            <div class="card-header">
                                <h2>üì§ Riwayat Penjualan</h2>
                                <button class="btn btn-sm btn-outline" onclick="Reports.generateSales()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                        <polyline points="7 10 12 15 17 10" />
                                        <line x1="12" y1="15" x2="12" y2="3" />
                                    </svg>
                                    Export PDF
                                </button>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Tanggal</th>
                                            <th>Produk</th>
                                            <th>Jumlah</th>
                                            <th>Harga Jual</th>
                                            <th>Total</th>
                                            <th>Keterangan</th>
                                            <th>Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="outbound-history-table">
                                        <!-- Dynamic content -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Requests Page -->
                    <div id="page-requests" class="page hidden">
                        <div class="page-header">
                            <div class="tabs">
                                <button class="tab active" data-status="all">Semua</button>
                                <button class="tab" data-status="pending">Pending</button>
                                <button class="tab" data-status="approved">Approved</button>
                                <button class="tab" data-status="completed">Completed</button>
                            </div>
                            <button class="btn btn-primary" onclick="Requests.showForm()" id="btn-create-request">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                Buat Pengajuan
                            </button>
                        </div>
                        <div class="requests-grid" id="requests-grid">
                            <!-- Dynamic request cards -->
                        </div>
                        <div id="no-requests" class="empty-state hidden">
                            <span>üìã</span>
                            <p>Belum ada pengajuan barang</p>
                        </div>
                    </div>

                    <!-- Reports Page -->
                    <div id="page-reports" class="page hidden">
                        <div class="page-header">
                            <h2>üìä Cetak Laporan</h2>
                        </div>

                        <!-- Report Type Cards -->
                        <div class="reports-grid">
                            <!-- Sales Report -->
                            <div class="report-card">
                                <div class="report-icon orange">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 3v12"></path>
                                        <path d="m16 7-4-4-4 4"></path>
                                        <path d="M8 21h8"></path>
                                        <path d="M8 17h8"></path>
                                    </svg>
                                </div>
                                <div class="report-info">
                                    <h3>Laporan Penjualan</h3>
                                    <p>Rekap semua transaksi penjualan (barang keluar)</p>
                                </div>
                                <div class="report-form">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>Dari Tanggal</label>
                                            <input type="date" id="sales-from">
                                        </div>
                                        <div class="form-group">
                                            <label>Sampai Tanggal</label>
                                            <input type="date" id="sales-to">
                                        </div>
                                    </div>
                                    <button class="btn btn-primary btn-full" onclick="Reports.generateSales()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                            <polyline points="7 10 12 15 17 10" />
                                            <line x1="12" y1="15" x2="12" y2="3" />
                                        </svg>
                                        Download PDF
                                    </button>
                                </div>
                            </div>

                            <!-- Purchase/Inbound Report -->
                            <div class="report-card">
                                <div class="report-icon blue">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 3v12"></path>
                                        <path d="m8 11 4 4 4-4"></path>
                                        <path
                                            d="M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4">
                                        </path>
                                    </svg>
                                </div>
                                <div class="report-info">
                                    <h3>Laporan Pembelian</h3>
                                    <p>Rekap semua transaksi pembelian (barang masuk)</p>
                                </div>
                                <div class="report-form">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>Dari Tanggal</label>
                                            <input type="date" id="purchase-from">
                                        </div>
                                        <div class="form-group">
                                            <label>Sampai Tanggal</label>
                                            <input type="date" id="purchase-to">
                                        </div>
                                    </div>
                                    <button class="btn btn-primary btn-full" onclick="Reports.generatePurchase()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                            <polyline points="7 10 12 15 17 10" />
                                            <line x1="12" y1="15" x2="12" y2="3" />
                                        </svg>
                                        Download PDF
                                    </button>
                                </div>
                            </div>

                            <!-- Requests Report -->
                            <div class="report-card">
                                <div class="report-icon green">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="report-info">
                                    <h3>Laporan Pengajuan</h3>
                                    <p>Rekap semua pengajuan barang</p>
                                </div>
                                <div class="report-form">
                                    <div class="form-group">
                                        <label>Filter Status</label>
                                        <select id="request-status-filter" class="select-input" style="width: 100%;">
                                            <option value="all">Semua Status</option>
                                            <option value="pending">Pending</option>
                                            <option value="approved">Approved</option>
                                            <option value="completed">Completed</option>
                                        </select>
                                    </div>
                                    <button class="btn btn-primary btn-full" onclick="Reports.generateRequests()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                            <polyline points="7 10 12 15 17 10" />
                                            <line x1="12" y1="15" x2="12" y2="3" />
                                        </svg>
                                        Download PDF
                                    </button>
                                </div>
                            </div>

                            <!-- Stock Report -->
                            <div class="report-card">
                                <div class="report-icon purple">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2">
                                        <path
                                            d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
                                        </path>
                                    </svg>
                                </div>
                                <div class="report-info">
                                    <h3>Laporan Stok</h3>
                                    <p>Daftar semua produk dan stok saat ini</p>
                                </div>
                                <div class="report-form">
                                    <div class="form-group">
                                        <label>Opsi</label>
                                        <select id="stock-option" class="select-input" style="width: 100%;">
                                            <option value="all">Semua Produk</option>
                                            <option value="critical">Stok Kritis Saja</option>
                                        </select>
                                    </div>
                                    <button class="btn btn-primary btn-full" onclick="Reports.generateStock()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                            <polyline points="7 10 12 15 17 10" />
                                            <line x1="12" y1="15" x2="12" y2="3" />
                                        </svg>
                                        Download PDF
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals -->
    <div id="modal-overlay" class="modal-overlay hidden">
        <div id="modal-container" class="modal">
            <!-- Modal content will be injected here -->
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <!-- App Scripts -->
    <script src="js/firebase-config.js"></script>
    <script src="js/storage-firebase.js"></script>
    <script src="js/app.js"></script>
    <script src="js/products.js"></script>
    <script src="js/transactions.js"></script>
    <script src="js/requests.js"></script>
    <script src="js/reports.js"></script>
</body>

</html>